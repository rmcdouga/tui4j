#!/bin/bash
# Run TUI Daemon Combo Example
# Usage: ./run [OPTIONS]
#   --daemon    Run in daemon mode (headless)
#   -h, --help  Show this help message

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
JAR_FILE="$SCRIPT_DIR/tui4j-examples.jar"

if [ ! -f "$JAR_FILE" ]; then
    echo "Error: tui4j-examples.jar not found. Build the project first with ./gradlew copyAllExampleJars"
    exit 1
fi

if [[ "$*" == *"--daemon"* ]]; then
    java -cp "$JAR_FILE" com.williamcallahan.tui4j.examples.tuidemoncombo.DaemonComboExample --daemon
elif [[ "$*" == *"-h"* ]] || [[ "$*" == *" --help"* ]]; then
    echo "TUI Daemon Combo Example"
    echo ""
    echo "Demonstrates running an application in both TUI and daemon modes."
    echo ""
    echo "Options:"
    echo "  --daemon   Run in daemon mode (headless)"
    echo "  -h, --help Show this help message"
    echo ""
    echo "Without options, runs in interactive TUI mode."
    echo ""
    echo "Controls (TUI mode):"
    echo "  Any key  Quit"
else
    java -cp "$JAR_FILE" com.williamcallahan.tui4j.examples.tuidemoncombo.DaemonComboExample
fi
